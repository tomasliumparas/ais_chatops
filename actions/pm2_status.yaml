---
name: pm2_status
description: Get PM2 status in json
runner_type: local-shell-cmd
entry_point: ""
enabled: true
parameters:
  sudo:
    immutable: true
    default: true
  kwarg_op:
    immutable: true
  timeout:
    default: 6000
  args:
    description: "Ansible arguments"
    default: "pm2 jlist|jq -r '.[]|select(. | contains({name: \"angular-crm\"})).pm2_env.axm_monitor | to_entries[] | \"\\(.key): `\\(.value.value)`\"'"
  cmd:
    description: "Command to run"
    immutable: true
    default: "/opt/stackstorm/virtualenvs/ansible/bin/ansible comet -u ansible --become --become-user=red -m shell -a {{args}}
